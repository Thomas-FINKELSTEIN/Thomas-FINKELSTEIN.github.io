/* =========================================================
   ESAIP PAGE – Thomas FINKELSTEIN
   Emplacement: /pro/esaip/esaip.css
   Rôle: styles complets (années 3/4/5, timeline, décor, CTA)
   ========================================================= */

/* ---------- Variables ---------- */
:root{
  --bg:#0f0f10;
  --bg-2:#0a0a0a;
  --panel:#141416;
  --panel-2:#18181a;
  --text:#ffffff;
  --text-light:#f2f5ff;
  --text-muted:#b9c0d0;
  --line:#22262e;
  --accent:#0078ff;   /* Bleu ESAIP */
  --accent-2:#00ffc6; /* Data/IA */
  --accent-3:#ff0080; /* Comm/Management */
  --shadow:0 14px 36px rgba(0,0,0,.45);
}

/* ---------- Reset minimal ---------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:
    radial-gradient(1200px 800px at 10% 0%, #121316 0%, transparent 60%),
    radial-gradient(1000px 700px at 90% 100%, #101216 0%, transparent 55%),
    linear-gradient(135deg, var(--bg), var(--bg-2));
  background-size:120% 120%;
  animation:bgShift 18s ease-in-out infinite;
  color:var(--text);
  font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  overflow-x:hidden;
}

/* Subtle background animation */
@keyframes bgShift{
  0%{background-position:0% 0%, 100% 100%, 0% 0%}
  50%{background-position:20% -10%, 80% 120%, 100% 100%}
  100%{background-position:0% 0%, 100% 100%, 0% 0%}
}

/* ---------- Décor (grille, orbes, particules) ---------- */
.grid-background{
  pointer-events:none; position:fixed; inset:0; z-index:-3;
  background-image:
    linear-gradient(#1e1f230a 1px, transparent 1px),
    linear-gradient(90deg, #1e1f230a 1px, transparent 1px);
  background-size:60px 60px;
  mask-image: radial-gradient(ellipse at 40% 20%, #000 55%, transparent 75%);
  animation:gridDrift 30s linear infinite;
}
@keyframes gridDrift{
  0%{background-position:0 0, 0 0}
  100%{background-position:120px 0, 0 120px}
}

.orb{
  position:fixed; border-radius:50%; filter:blur(48px); opacity:.26; z-index:-2;
  mix-blend-mode:screen;
}
.orb-1{ width:420px;height:420px; left:-120px; top:-80px; background:#2b84ff;}
.orb-2{ width:520px;height:520px; right:-180px; bottom:-120px; background:#8a2be2;}
.orb-3{ width:420px;height:420px; left:55%; top:35%; transform:translate(-50%,-50%); background:#00ffc6; opacity:.18;}

.particles{ position:fixed; inset:0; z-index:-1; pointer-events:none; }
.particle{
  position:absolute; width:2px; height:2px; background:#eaf2ff; border-radius:50%;
  opacity:.45; animation:float 20s linear infinite;
}
@keyframes float{
  from{ transform:translateY(0) }
  to  { transform:translateY(-160vh) }
}

/* ---------- Marque perso ---------- */
.brand{
  position:fixed; top:22px; left:28px; z-index:6;
  color:var(--text); opacity:.9; letter-spacing:.6px; font-weight:700; font-size:0.98rem;
  user-select:none;
}

/* ---------- Header: boutons d’année ---------- */
.year-nav{
  position:sticky; top:0; z-index:5;
  display:flex; justify-content:center; gap:16px;
  padding:14px 12px;
  background:rgba(0,0,0,.30);
  border-bottom:1px solid rgba(255,255,255,.10);
  backdrop-filter:blur(10px);
}
.year-btn{
  padding:10px 18px; border-radius:999px; cursor:pointer;
  color:#fff; background:transparent; border:1.5px solid rgba(255,255,255,.6);
  font-weight:700; letter-spacing:.2px;
  transition:transform .2s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease;
}
.year-btn:hover{ transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.35) }
.year-btn.active{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,120,255,.18) inset }

/* ---------- Sections d’année ---------- */
.year-section{ padding:72px 0 }
.year-section .intro{
  text-align:center; padding:0 10% 18px;
}
.year-section .intro p{
  color:var(--text-muted); font-size:1.06rem; line-height:1.75; max-width:880px; margin:0 auto;
  animation:fadeInUp .7s ease both .05s;
}

/* ---------- Timeline verticale ---------- */
.timeline{
  position:relative;
  width:min(960px, 90%);
  margin: 28px auto 0;
  padding: 8px 0 8px;
}

/* Ligne centrale */
.timeline::before{
  content:""; position:absolute; left:50%; top:0; transform:translateX(-50%);
  width:2px; height:100%;
  background:linear-gradient(180deg, transparent, rgba(0,120,255,.65), transparent);
  box-shadow:0 0 24px rgba(0,120,255,.35);
}

/* Un module (UE) */
.module{
  position:relative; margin:34px 0 46px; min-height:64px;
  animation:fadeInUp .6s ease both;
}

/* Pastille sur la ligne */
.module .dot{
  position:absolute; left:50%; top:22px; transform:translate(-50%,-50%);
  width:12px; height:12px; border-radius:999px; background:var(--accent);
  box-shadow:0 0 16px rgba(0,120,255,.75);
  animation:pulse 2.4s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{ box-shadow:0 0 14px rgba(0,120,255,.55)}
  50%{ box-shadow:0 0 26px rgba(0,120,255,.85)}
}

/* Boîte de contenu du module */
.module .module-content{
  position:relative; width:calc(50% - 42px);
  background:var(--panel); border:1px solid var(--line); border-radius:14px;
  padding:18px 20px;
  box-shadow: var(--shadow);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}

/* Alternance G/D */
.module:nth-child(odd) .module-content{ margin-right:auto; }
.module:nth-child(even) .module-content{ margin-left:auto; }

/* Survol: halo subtil (la couleur fine peut varier par type d'UE si besoin) */
.module:hover .module-content{
  transform:translateY(-3px);
  box-shadow:0 18px 40px rgba(0,0,0,.55);
  border-color:#2a2f38;
}

/* Titre et liste */
.module h2{
  color:var(--accent); font-size:1.08rem; margin-bottom:10px; letter-spacing:.2px;
}
.module ul{ list-style:none; display:grid; gap:8px }
.module li{
  color:#e8ecf8; line-height:1.65;
  padding-left:12px; border-left:2px solid rgba(0,120,255,.35);
}

/* ---------- Placeholder 5e année ---------- */
#annee5{
  text-align:center;
  padding: 8rem 2rem 10rem;
  font-size:1.3rem;
  color:var(--text-muted);
  background:linear-gradient(180deg, transparent, rgba(0,120,255,.06));
  animation:fadeInUp .9s ease both;
}
#annee5 .intro p{
  color:var(--text-light);
  letter-spacing:.02em;
}

/* ---------- Bouton retour (bas droite) ---------- */
.back-btn{
  position:fixed; right:24px; bottom:22px; z-index:6;
  display:inline-flex; align-items:center; gap:10px;
  text-decoration:none; color:#fff; font-weight:700;
  padding:10px 16px; border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.16);
  backdrop-filter:blur(10px);
  transition:transform .25s ease, background .25s ease, box-shadow .25s ease;
}
.back-btn:hover{
  transform:translateY(-2px);
  background:rgba(255,255,255,.14);
  box-shadow:0 12px 30px rgba(0,0,0,.45);
}

/* ---------- Animations génériques ---------- */
@keyframes fadeInUp{
  from{ opacity:0; transform:translateY(12px) }
  to  { opacity:1; transform:none }
}

/* ---------- Responsive ---------- */
@media (max-width: 980px){
  .module .module-content{ width:calc(50% - 24px) }
}

@media (max-width: 820px){
  .year-section{ padding:56px 0 }
  .timeline{ width:min(720px, 92%); }
  .module{ margin:28px 0 36px }
  .module .module-content{ width:calc(50% - 18px) }
}

@media (max-width: 680px){
  /* Timeline centrée en mobile */
  .timeline{ padding-left:18px }
  .timeline::before{ left:18px; transform:none }
  .module .dot{ left:18px; transform:none }
  .module .module-content{
    width:100%;
    margin:0 0 0 36px; /* laisse la colonne de la ligne à gauche */
  }
}

/* ---------- Qualité visuelle (optionnel) ---------- */
body.ready .year-nav{ transition: background .35s ease }
